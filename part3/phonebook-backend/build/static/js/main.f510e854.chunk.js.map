{"version":3,"sources":["components/Person.js","components/Persons.js","components/AddpersonForm.js","components/Filter.js","services/numbers.js","App.js","index.js"],"names":["Person","props","id","person","name","number","onClick","handleDelete","Persons","persons","filter","toLowerCase","match","search","map","pers","Addforum","onSubmit","AddPerson","value","newName","onChange","handleName","newNumber","handleNumber","type","Filter","handleSearch","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNumber","setSearch","Message","setMessage","setType","useEffect","numberService","Notification","message","className","event","target","preventDefault","persObject","persIndex","findIndex","window","confirm","personResponse","setTimeout","catch","err","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f510e854.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return(\r\n        <>\r\n            <li key={props.person.name}id={props.person.id}> {props.person.name} {props.person.number}  </li> \r\n            <button onClick={()=> props.handleDelete(props.person.id, props.person.name)}> Delete </button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = (props) => {\r\n    return(\r\n      <ul>\r\n          {props.persons.filter(person => person.name.toLowerCase().match(props.search.toLowerCase())).map(pers => \r\n            <Person key={pers.id} person={pers} handleDelete={props.handleDelete} />\r\n            )\r\n          } \r\n      </ul>\r\n    )\r\n  }\r\n\r\n  export default Persons","import React from \"react\";\r\n\r\nconst Addforum = (props) => {\r\n    return(\r\n        <form onSubmit={props.AddPerson}>\r\n        <div>\r\n          name: <input \r\n                  value={props.newName}\r\n                  onChange={props.handleName}\r\n                />\r\n          number: <input \r\n                value={props.newNumber}\r\n                onChange={props.handleNumber}\r\n                />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\n\r\nexport default Addforum","import React from \"react\";\r\n\r\nconst Filter = (props) => {\r\n    return(\r\n        <form>\r\n        <div>\r\n          Search: <input type=\"search\" \r\n          value={props.search}\r\n          onChange={props.handleSearch}\r\n          />\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n  \r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n    getall: getAll,\r\n    create: create,\r\n    update: update,\r\n    remove: remove\r\n}","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Persons from'./components/Persons'\r\nimport Addforum from './components/AddpersonForm'\r\nimport Filter from './components/Filter'\r\nimport numberService from './services/numbers'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n\r\n  const [ newName, setNewName ] = useState('')\r\n\r\n  const [newNumber, setNumber] = useState('')\r\n\r\n  const [search, setSearch] = useState('')\r\n  \r\n  const [Message, setMessage] = useState(null)\r\n\r\n  const [type, setType] = useState('')\r\n\r\n  const handleName = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumber = (event) => {\r\n    setNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearch = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n\r\n  const AddPerson = (event) =>{\r\n    event.preventDefault()\r\n    let persObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    let personsCp = [...persons]\r\n    let persIndex = personsCp.findIndex((person) => {return person.name === newName})\r\n    if( persIndex > -1){\r\n      //alert(`${newName} already exists!`)\r\n      if(window.confirm(newName + \" Already exists, would you like to update their number?\")){\r\n        numberService\r\n        .update(persons[persIndex].id, persObject)\r\n        .then(personResponse => { \r\n          setPersons(persons.map(pers => pers.id === personResponse.id ? personResponse : pers))\r\n          setMessage(\"Added \" + newName)\r\n          setType(\"sucess\")\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n          }\r\n        ).catch(err => { \r\n            setType(\"error\")\r\n            setMessage(\"Could not update \" + newName)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 5000)\r\n        })\r\n      }\r\n    }else{\r\n      numberService\r\n      .create(persObject)\r\n      .then(person => {\r\n        setPersons(persons.concat(person))\r\n        setMessage(\"Added \" + newName)\r\n        setType(\"sucess\")\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n      }\r\n      ).catch(err => { \r\n          setType(\"error\")\r\n          setMessage(\"Could not create \" + newName)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 5000)\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  const handleDelete = (id, name) => {\r\n    if(window.confirm(\"Would you like to delete \" + name+ \" ?\")){\r\n      numberService\r\n      .remove(id)\r\n      .then(person => {console.log(name+\" was deleted\")\r\n      setPersons(persons.filter(person => person.id !== id))\r\n      }\r\n      ).catch(err => { \r\n        setType(\"error\")\r\n        setMessage(\"Could not remove \" + newName)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 5000)\r\n      })\r\n\r\n\r\n    }\r\n\r\n  } \r\n\r\n  useEffect(()=>{\r\n      numberService\r\n      .getall()\r\n      .then(response => {\r\n        //console.log(response)\r\n        setPersons(response)})\r\n  }, [])\r\n\r\n\r\n  const Notification = ({ message, type}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className={type}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n\r\n        <Filter search={search} handleSearch={handleSearch}/>\r\n\r\n      <h2> Add a new </h2>\r\n      <Notification message={Message} type={type} />\r\n      <Addforum AddPerson={AddPerson} newName={newName} handleName={handleName} newNumber={newNumber} handleNumber={handleNumber} />\r\n\r\n      <h2>Numbers</h2>\r\n\r\n      <Persons persons={persons} search={search} handleDelete={handleDelete}/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <App />, \r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}